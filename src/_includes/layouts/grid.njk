<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ '/css/style.css' | url }}" />
    <link rel="icon" type="image/svg+xml" href="{{'/assets/favicon.svg' | url}}">
    <link rel="icon" type="image/png" href="{{'/assets/favicon.png' | url}}">

    <meta property="og:title" content="{% if page.url == "/" %}Heart | Soul | Machine â€¢ by Tim Klapdor {% else %}{{ title }}{% endif %}" />
    <meta property="og:url" content="{{ page.url }}" />
    {% if tags %}
    <meta property="og:image" content="/assets/social-previews/{{ title | slug }}-preview.jpeg" />
    <meta property="og:image:secure_url" content="/assets/social-previews/{{ title | slug }}-preview.jpeg" /> 
    {% else %}
    <meta property="og:image" content="/assets/social-previews/default.jpeg" />
    <meta property="og:image:secure_url" content="/assets/social-previews/default.jpeg" />
    {% endif %}

  </head>

  <body>

    <aside>

    <header>
        <h1>{{ title }}</h1>
        <a href="{{ '/' | url }}">
            <h1 class="logo-present">{{ title }}</h1>
            <img src="{{ '/assets/heart-soul-machine-logo.svg' | url }}" alt="{{ title }} Logo">
          </a>
    </header>



    <nav role="navigation">
        <button class="menu-toggle" id="toggle" aria-expanded="false">

          <svg class="ham hamRotate ham7" viewBox="0 0 100 100" width="80" onclick="this.classList.toggle('active')">
            <path
                  class="line top"
                  d="m 70,33 h -40 c 0,0 -6,1.368796 -6,8.5 0,7.131204 6,8.5013 6,8.5013 l 20,-0.0013" />
            <path
                  class="line middle"
                  d="m 70,50 h -40" />
            <path
                  class="line bottom"
                  d="m 69.575405,67.073826 h -40 c -5.592752,0 -6.873604,-9.348582 1.371031,-9.348582 8.244634,0 19.053564,21.797129 19.053564,12.274756 l 0,-40" />
          </svg>
        </button>
        <ul id="menu">
            {% for item in nav.nav %}
                 <li><a href="{{item.url}}">{{item.text}}</a></li>
            {% endfor %}
        </ul>
    </nav>    
    <script>
        var toggle = document.querySelector('#toggle');
        var menu = document.querySelector('#menu');
        var menuItems = document.querySelectorAll('#menu li a');

        toggle.addEventListener('click', function(){
          if (menu.classList.contains('is-active')) {
            this.setAttribute('aria-expanded', 'false');
            menu.classList.remove('is-active');
          } else {
            menu.classList.add('is-active'); 
            this.setAttribute('aria-expanded', 'true');
            //menuItems[0].focus();
          }
        });
    </script>
    <a rel="me" href="https://mastodon.social/@timklapdor" style="display: none;">Mastodon</a>
    <div class="rss">
      <a href="{{ '/feed.xml' | url }}">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar" width="24" height="24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M4 4a16 16 0 0 1 16 16" /><path d="M4 11a9 9 0 0 1 9 9" /></svg>
        </a>
     </div>

    </aside>

    <main>
      {{ content | safe }}
    </main>

  </body>
</html>